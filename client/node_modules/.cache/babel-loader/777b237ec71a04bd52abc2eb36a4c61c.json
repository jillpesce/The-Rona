{"ast":null,"code":"import _slicedToArray from \"/Users/caromurphy/Desktop/CIS 450/Final Project/CIS450_Project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/caromurphy/Desktop/CIS 450/Final Project/CIS450_Project/client/src/components/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport CoronaVirus from './CoronaVirus';\nimport queryString from \"query-string\";\nimport PrivateRoute from './PrivateRoute';\nimport Timeline from './Timeline';\nimport Dashboard from './Dashboard';\n\nconst App = () => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        isAuthenticated = _useState2[0],\n        setAuthenticated = _useState2[1];\n\n  useEffect(async () => {\n    try {\n      const res = await fetch('http://localhost:8081/auth/login/success', {\n        method: 'GET',\n        credentials: 'include',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Credentials': true\n        }\n      });\n      const data = await res.json();\n      console.log('res.data: ' + data);\n\n      if (data.isAuthenticated) {\n        setAuthenticated(true);\n        console.log('set auth true');\n      } else {\n        setAuthenticated(false);\n        console.log('set auth false');\n      }\n    } catch (err) {\n      console.error(err.message);\n    }\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: () => React.createElement(Dashboard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }),\n    isAuthenticated: isAuthenticated,\n    setAuthenticated: setAuthenticated,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    isAuthenticated: isAuthenticated,\n    exact: true,\n    path: \"/coronavirus\",\n    component: CoronaVirus,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    isAuthenticated: isAuthenticated,\n    exact: true,\n    path: \"/timeline\",\n    component: () => React.createElement(Timeline, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }))));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/caromurphy/Desktop/CIS 450/Final Project/CIS450_Project/client/src/components/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Route","Switch","CoronaVirus","queryString","PrivateRoute","Timeline","Dashboard","App","isAuthenticated","setAuthenticated","res","fetch","method","credentials","headers","Accept","data","json","console","log","err","error","message"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SACCC,aAAa,IAAIC,MADlB,EAECC,KAFD,EAGCC,MAHD,QAIO,kBAJP;AAKA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,SAAP,MAAsB,aAAtB;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAAA,oBAC2BX,QAAQ,CAAC,KAAD,CADnC;AAAA;AAAA,QACVY,eADU;AAAA,QACOC,gBADP;;AAGjBZ,EAAAA,SAAS,CAAC,YAAY;AACrB,QAAI;AACH,YAAMa,GAAG,GAAG,MAAMC,KAAK,CAAC,0CAAD,EAA6C;AAC/DC,QAAAA,MAAM,EAAE,KADuD;AAE/DC,QAAAA,WAAW,EAAE,SAFkD;AAG/DC,QAAAA,OAAO,EAAE;AACPC,UAAAA,MAAM,EAAE,kBADD;AAEP,0BAAgB,kBAFT;AAGP,8CAAoC;AAH7B;AAHsD,OAA7C,CAAvB;AAUA,YAAMC,IAAI,GAAG,MAAMN,GAAG,CAACO,IAAJ,EAAnB;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAeH,IAA3B;;AACA,UAAIA,IAAI,CAACR,eAAT,EAA0B;AACzBC,QAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACAS,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,OAHD,MAGO;AACNV,QAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAS,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA;AACD,KArBD,CAqBE,OAAOC,GAAP,EAAY;AACbF,MAAAA,OAAO,CAACG,KAAR,CAAcD,GAAG,CAACE,OAAlB;AACA;AACD,GAzBQ,EAyBN,EAzBM,CAAT;AA2BA,SACC;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,KAAD;AACC,IAAA,KAAK,MADN;AAEC,IAAA,IAAI,EAAC,GAFN;AAGC,IAAA,SAAS,EAAE,MACV,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF;AAMC,IAAA,eAAe,EAAId,eANpB;AAOC,IAAA,gBAAgB,EAAIC,gBAPrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,EAUC,oBAAC,YAAD;AACC,IAAA,eAAe,EAAED,eADlB;AAEC,IAAA,KAAK,MAFN;AAGC,IAAA,IAAI,EAAC,cAHN;AAIC,IAAA,SAAS,EACRN,WALF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVD,EAkBC,oBAAC,YAAD;AACC,IAAA,eAAe,EAAEM,eADlB;AAEC,IAAA,KAAK,MAFN;AAGC,IAAA,IAAI,EAAC,WAHN;AAIC,IAAA,SAAS,EAAE,MACV,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlBD,CADD,CADD,CADD;AAiCA,CA/DD;;AAiEA,eAAeD,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n\tBrowserRouter as Router,\n\tRoute,\n\tSwitch\n} from 'react-router-dom';\nimport CoronaVirus from './CoronaVirus';\nimport queryString from \"query-string\";\nimport PrivateRoute from './PrivateRoute';\nimport Timeline from './Timeline'\nimport Dashboard from './Dashboard'\n\nconst App = () => {\n\tconst [isAuthenticated, setAuthenticated] = useState(false);\n\n\tuseEffect(async () => {\n\t\ttry {\n\t\t\tconst res = await fetch('http://localhost:8081/auth/login/success', {\n\t\t      method: 'GET',\n\t\t      credentials: 'include',\n\t\t      headers: {\n\t\t        Accept: 'application/json',\n\t\t        'Content-Type': 'application/json',\n\t\t        'Access-Control-Allow-Credentials': true,\n\t\t      },\n\t\t    });\n\n\t\t\tconst data = await res.json();\n\n\t\t\tconsole.log('res.data: ' + data);\n\t\t\tif (data.isAuthenticated) {\n\t\t\t\tsetAuthenticated(true);\n\t\t\t\tconsole.log('set auth true');\n\t\t\t} else {\n\t\t\t\tsetAuthenticated(false);\n\t\t\t\tconsole.log('set auth false');\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(err.message);\n\t\t}\n\t}, []);\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Router>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\tcomponent={() => (\n\t\t\t\t\t\t\t<Dashboard />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tisAuthenticated = {isAuthenticated}\n\t\t\t\t\t\tsetAuthenticated = {setAuthenticated}\n\t\t\t\t\t/>\n\t\t\t\t\t<PrivateRoute\n\t\t\t\t\t\tisAuthenticated={isAuthenticated}\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/coronavirus\"\n\t\t\t\t\t\tcomponent={\n\t\t\t\t\t\t\tCoronaVirus\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<PrivateRoute\n\t\t\t\t\t\tisAuthenticated={isAuthenticated}\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/timeline\"\n\t\t\t\t\t\tcomponent={() => (\n\t\t\t\t\t\t\t<Timeline />\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t</div>\n\t);\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}